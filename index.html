<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentynka üíï</title>
<style>
body {
    margin: 0;
    height: 100vh;
    background-color: #f6c1d1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

/* üîπ Du≈ºe serce z animowanym gradientem */
.container {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle at center, #ffe4e1 60%, #ff0000 100%);
    clip-path: polygon(
        50% 15%, 61% 5%, 75% 15%, 85% 30%, 80% 50%,
        50% 90%, 20% 50%, 15% 30%, 25% 15%, 39% 5%
    );
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 2;
    text-align: center;
    animation: heartbeat 1s infinite, gradientPulse 4s infinite alternate;
}

/* üîπ Animacja bicia serca */
@keyframes heartbeat {
    0% { transform: scale(1); }
    25% { transform: scale(1.05); }
    40% { transform: scale(0.95); }
    60% { transform: scale(1.1); }
    80% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

/* üîπ Animowany gradient */
@keyframes gradientPulse {
    0% { background: radial-gradient(circle at center, #ffe4e1 60%, #ff0000 100%); }
    50% { background: radial-gradient(circle at center, #ffd1dc 60%, #ff0044 100%); }
    100% { background: radial-gradient(circle at center, #ffe4e1 60%, #ff0000 100%); }
}

/* Tekst w ≈õrodku serca */
h1 {
    font-size: 24px;
    color: #fff;
    margin-bottom: 20px;
    z-index: 3;
    text-align: center;
}

.big-love {
    display: none;
    font-size: 42px;
    color: #e91e63;
    font-weight: bold;
    margin-bottom: 20px;
    z-index: 3;
}

.love-photo {
    display: none;
    position: relative;
    justify-content: center;
    align-items: center;
    margin-bottom: 20px;
    z-index: 3;
}

.love-photo img {
    border-radius: 25px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

#mainPhoto { height: 200px; }

.buttons {
    position: relative;
    height: auto;
    z-index: 3;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

button {
    font-size: 22px;
    padding: 15px 25px;
    border: none;
    border-radius: 40px;
    margin: 10px;
    cursor: pointer;
    min-width: 100px;
    transition: all 0.1s ease;
    position: relative;
}

#yes { background-color: #ff5c8a; color: white; }
#no { background-color: #ddd; color: black; }

.shake { animation: shake 0.25s; }
@keyframes shake {
0%{transform:translate(0,0);}
25%{transform:translate(-5px,0);}
50%{transform:translate(5px,0);}
75%{transform:translate(-5px,0);}
100%{transform:translate(0,0);}
}

.heart { position: fixed; top: -30px; font-size: 24px; animation: fall linear infinite; opacity: 0.85; pointer-events: none; z-index: 1; }
@keyframes fall { to { transform: translateY(110vh); } }

.flying { position: fixed; width: 150px; height: auto; pointer-events: none; z-index: 5; transform-origin: center center; }
</style>
</head>
<body>
<div class="container">
    <h1 id="question">Zuzia, zostaniesz mojƒÖ walentynkƒÖ? üíò</h1>
    <div class="big-love" id="bigLove">KOCHAM CIƒò MINIO ‚ù§Ô∏è</div>
    <div class="love-photo" id="lovePhotoContainer">
        <img id="mainPhoto" src="nasze-zdjecie.jpg" alt="Nasze zdjƒôcie">
    </div>
    <div class="buttons" id="buttonsBox">
        <button id="yes">TAK</button>
        <button id="no">nie</button>
    </div>
</div>

<audio id="loveSound" src="love-sound.mp3"></audio>

<script>
// Przyciski i animacje
const noButton=document.getElementById("no");
const yesButton=document.getElementById("yes");
const buttonsBox=document.getElementById("buttonsBox");
const bigLove=document.getElementById("bigLove");
const lovePhotoContainer=document.getElementById("lovePhotoContainer");
const mainPhoto=document.getElementById("mainPhoto");
const texts=["nie","no minio","A zr√≥b minkƒô :(","chyba ≈ºart..."];
let step=0;

// üîπ Przycisk "nie" ograniczony do serca
function moveNoSafe(e){
    const btnRect=noButton.getBoundingClientRect();
    const containerRect=document.querySelector(".container").getBoundingClientRect();
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    let dx = btnRect.left + btnRect.width/2 - mouseX;
    let dy = btnRect.top + btnRect.height/2 - mouseY;
    let dist = Math.sqrt(dx*dx + dy*dy);

    if(dist<120){
        dx = (Math.random()*2-1)*50;
        dy = (Math.random()*2-1)*50;
    }

    let newLeft = btnRect.left + dx;
    let newTop = btnRect.top + dy;

    // ograniczenie do obszaru serca
    newLeft = Math.max(containerRect.left, Math.min(containerRect.right - btnRect.width, newLeft));
    newTop = Math.max(containerRect.top, Math.min(containerRect.bottom - btnRect.height, newTop));

    noButton.style.left = (newLeft - containerRect.left) + "px";
    noButton.style.top = (newTop - containerRect.top) + "px";

    if(step<texts.length-1) step++;
    noButton.textContent = texts[step];

    const angle = (Math.random()*20-10);
    const scale = 1 + Math.random()*0.2;
    noButton.style.transform = `rotate(${angle}deg) scale(${scale})`;
    setTimeout(()=>{ noButton.style.transform=`rotate(0deg) scale(1)`; }, 200);

    if(navigator.vibrate) navigator.vibrate(30);
}

noButton.addEventListener("mousemove", moveNoSafe);
buttonsBox.addEventListener("touchstart",e=>{if(e.target.id==="no"){moveNoSafe(e); e.preventDefault();}});

// Klikniƒôcie TAK
yesButton.addEventListener("click",()=>{
    document.getElementById("question").style.display="none";
    document.getElementById("buttonsBox").style.display="none";
    bigLove.style.display="block"; bigLove.classList.add("pulse");
    lovePhotoContainer.style.display="flex"; mainPhoto.style.display="block";
});
</script>
</body>
</html>
